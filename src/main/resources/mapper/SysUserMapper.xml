<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="cn.ff.burning.mapper.SysUserMapper">

    <!--<sql id="sysUserCols">-->
        <!--id,-->
        <!--user_name as userName,-->
        <!--password,-->
        <!--nick_name as nickName,-->
        <!--phone,-->
        <!--status,-->
        <!--type,-->
        <!--create_time as createTime,-->
        <!--del_flag as delFlag-->

    <!--</sql>-->

    <select id="getByUserName" resultType="cn.ff.burning.entity.SysUser">
        select *
        from sys_user where user_name = #{userName} and del_flag = '0'
    </select>

    <select id="getOneUserAllRoles" resultType="cn.ff.burning.entity.SysRole">
        select * from sys_role r where r.status = 1 and r.id in (select ur.role_id from sys_user_role ur where user_id = #{userId})
    </select>


</mapper>